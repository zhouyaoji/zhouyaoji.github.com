

<!DOCTYPE html>
<html lang="en">
<head>
    <title>Getting Input and Cookie Data - Mojito Topics</title>
    <link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/combo?3.5.0/build/cssgrids/cssgrids-min.css&amp;3.5.0/build/cssreset/cssreset-min.css&amp;3.5.0/build/cssfonts/cssfonts-min.css&amp;3.5.0/build/cssbutton/cssbutton-min.css">
	<link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/combo?2.9.0/build/treeview/assets/skins/sam/treeview.css"> 
    <link rel="stylesheet" type="text/css" href="_static/mojito.css">
</head>
<body class="yui-skin-sam yui3-skin-sam seoui seoui-fixed">
	<div id="seoui-container">
	    <header>
  <div id="doc">
        <div id="hd">
            <div class="nav">
                <ul id="topnav">
                    <li><a class="navlink" href="../../">Home</a></li>
                    <li><a class="navlink" href="../">Documentation Directory</a></li>
                    <li><a class="navlink" href="">FAQ</a></li>
                    <li><a class="navlink" href="">Intro</a></li>
                    <li><a class="navlink" href="">Quickstart</a></li>
                    <li><a class="navlink" href="">Getting Started</a></li>
                    <li><a class="navlink" href="">Code Examples</a></li>
                    <li><a class="navlink" href="">Topics</a></li>
                    <li><a class="navlink" href="">Reference</a></li>
                    <li><a class="navlink" href="">Resources</a></li>
                </ul>
            </div>
        </div>

    	</header>
    	<div id="seoui-application-content">
            <div class="yui3-g">
                <div class="yui3-u-2-1">
                    
                    <div class="section" id="getting-input-and-cookie-data">
<h1>Getting Input and Cookie Data<a class="headerlink" href="#getting-input-and-cookie-data" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>Mojito provides addons for accessing data from query string and routing parameters, cookies, and the POST request body.</p>
<p>This section will provide an overview of the following addons that allow you to access data:</p>
<ul class="simple">
<li><a class="reference external" href="../../api/classes/Params.common.html">Params addon</a></li>
<li><a class="reference external" href="../../api/classes/Cookie.server.html">Cookies addon</a></li>
</ul>
<p>To see examples using these addons to get data, see <a class="reference external" href="../code_exs/query_params.html">Using Query Parameters</a> and <a class="reference external" href="../code_exs/cookies.html">Using Cookies</a>.</p>
</div>
<div class="section" id="getting-data-from-parameters">
<h2>Getting Data from Parameters<a class="headerlink" href="#getting-data-from-parameters" title="Permalink to this headline">¶</a></h2>
<p>The methods in the Params addon are called from the <tt class="docutils literal"><span class="pre">params</span></tt> namespace. As a result, the call will have the following syntax where <tt class="docutils literal"><span class="pre">ac</span></tt> is the
ActionContext object: <tt class="docutils literal"><span class="pre">ac.params.*</span></tt></p>
<div class="section" id="get">
<h3>GET<a class="headerlink" href="#get" title="Permalink to this headline">¶</a></h3>
<p>The GET parameters are the URL query string parameters. The Params addon creates JSON using the URL query string parameters. The method <tt class="docutils literal"><span class="pre">getFromUrl</span></tt>
allows you to specify a GET parameter or get all of the GET parameters. You can also use the alias <tt class="docutils literal"><span class="pre">url</span></tt> to get URL query string parameters.</p>
<p>For example, for the URL <tt class="docutils literal"><span class="pre">http://www.yahoo.com?foo=1&amp;bar=2</span></tt>, the Params addon would create the following object:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
  <span class="nx">foo</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="nx">bar</span><span class="o">:</span> <span class="mi">2</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="section" id="single-parameter">
<h4>Single Parameter<a class="headerlink" href="#single-parameter" title="Permalink to this headline">¶</a></h4>
<p>To get the value for a specific parameter, you pass the key to the <tt class="docutils literal"><span class="pre">getFromUrl</span></tt> method, which returns the associated value.</p>
<p>In the example controller below, the value for the <tt class="docutils literal"><span class="pre">name</span></tt> query string parameter is retrieved:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">YUI</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">&#39;ParamsMojit&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">Y</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">Y</span><span class="p">.</span><span class="nx">mojito</span><span class="p">.</span><span class="nx">controller</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">init</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">config</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">config</span> <span class="o">=</span> <span class="nx">config</span><span class="p">;</span>
    <span class="p">},</span>
    <span class="nx">getNameParam</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">actionContext</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">nameParam</span> <span class="o">=</span> <span class="nx">actionContext</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">getFromUrl</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">);</span>
      <span class="nx">actionContext</span><span class="p">.</span><span class="nx">done</span><span class="p">(</span>
        <span class="p">{</span>
          <span class="nx">name</span><span class="o">:</span> <span class="nx">nameParam</span>
        <span class="p">},</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">},</span> <span class="s1">&#39;0.0.1&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">requires</span><span class="o">:</span> <span class="p">[]});</span>
</pre></div>
</div>
</div>
<div class="section" id="all-parameters">
<h4>All Parameters<a class="headerlink" href="#all-parameters" title="Permalink to this headline">¶</a></h4>
<p>To get all of the query string parameters, you call <tt class="docutils literal"><span class="pre">getFromUrl</span></tt> or its alias <tt class="docutils literal"><span class="pre">url</span></tt> without passing a key as a parameter.</p>
<p>In this example controller, all of the query string parameter are stored in the <tt class="docutils literal"><span class="pre">qs_params</span></tt> array, which <tt class="docutils literal"><span class="pre">ac.done</span></tt> makes available in
the view template.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">YUI</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">&#39;ParamsMojit&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">Y</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">Y</span><span class="p">.</span><span class="nx">mojito</span><span class="p">.</span><span class="nx">controller</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">init</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">config</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">config</span> <span class="o">=</span> <span class="nx">config</span><span class="p">;</span>
    <span class="p">},</span>
    <span class="p">...</span>
    <span class="nx">getAllParams</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">actionContext</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">qs_params</span> <span class="o">=</span> <span class="p">[];</span>
      <span class="kd">var</span> <span class="nx">allParams</span> <span class="o">=</span> <span class="nx">actionContext</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">getFromUrl</span><span class="p">();</span>
      <span class="nx">Y</span><span class="p">.</span><span class="nb">Object</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">allParams</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">param</span><span class="p">,</span> <span class="nx">key</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">qs_params</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span><span class="nx">key</span><span class="o">:</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">value</span><span class="o">:</span> <span class="nx">param</span><span class="p">});</span>
      <span class="p">});</span>
      <span class="nx">actionContext</span><span class="p">.</span><span class="nx">done</span><span class="p">(</span>
        <span class="p">{</span>
          <span class="nx">query_string</span><span class="o">:</span> <span class="nx">qs_params</span>
        <span class="p">},</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">},</span> <span class="s1">&#39;0.0.1&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">requires</span><span class="o">:</span> <span class="p">[]});</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="post">
<h3>POST<a class="headerlink" href="#post" title="Permalink to this headline">¶</a></h3>
<p>The POST parameters come from the HTTP POST request body and often consist of form data. As with query string parameters, the Params addon has the
method <tt class="docutils literal"><span class="pre">getFromBody</span></tt> that allows you to specify a single parameter or get all of the POST body parameters.</p>
<div class="section" id="single">
<h4>Single<a class="headerlink" href="#single" title="Permalink to this headline">¶</a></h4>
<p>To get a parameter from the POST body, call <tt class="docutils literal"><span class="pre">getFromBody</span></tt> with the key as the parameter. You can also use the alias <tt class="docutils literal"><span class="pre">body</span></tt> to get a parameter
from the POST body.</p>
<p>In the example controller below, the POST body parameter <tt class="docutils literal"><span class="pre">name</span></tt> is retrieved and then uses the <tt class="docutils literal"><span class="pre">done</span></tt> method to make it accessible to the view template.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">YUI</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">&#39;ParamsMojit&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">Y</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">Y</span><span class="p">.</span><span class="nx">mojito</span><span class="p">.</span><span class="nx">controller</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">init</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">config</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">config</span> <span class="o">=</span> <span class="nx">config</span><span class="p">;</span>
    <span class="p">},</span>
    <span class="nx">getPostName</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">actionContext</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">postName</span> <span class="o">=</span> <span class="nx">actionContext</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">getFromBody</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">);</span>
      <span class="nx">actionContext</span><span class="p">.</span><span class="nx">done</span><span class="p">(</span>
        <span class="p">{</span>
          <span class="nx">posted_name</span><span class="o">:</span> <span class="nx">postName</span>
        <span class="p">});</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">},</span> <span class="s1">&#39;0.0.1&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">requires</span><span class="o">:</span> <span class="p">[]});</span>
</pre></div>
</div>
</div>
<div class="section" id="all">
<h4>All<a class="headerlink" href="#all" title="Permalink to this headline">¶</a></h4>
<p>To get all of the parameters from the POST body, call <tt class="docutils literal"><span class="pre">getFromBody</span></tt> or <tt class="docutils literal"><span class="pre">body</span></tt> without any parameters.</p>
<p>In the example controller below, <tt class="docutils literal"><span class="pre">getFromBody</span></tt> gets all of the POST body parameters, which are then stored in an array and made accessible to the view
template.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">YUI</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">&#39;ParamsMojit&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">Y</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">Y</span><span class="p">.</span><span class="nx">mojito</span><span class="p">.</span><span class="nx">controller</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">init</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">config</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">config</span> <span class="o">=</span> <span class="nx">config</span><span class="p">;</span>
    <span class="p">},</span>
    <span class="p">...</span>
    <span class="nx">getAllParams</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">actionContext</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">post_params</span> <span class="o">=</span> <span class="p">[];</span>
      <span class="kd">var</span> <span class="nx">allPostParams</span> <span class="o">=</span> <span class="nx">actionContext</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">getFromBody</span><span class="p">();</span>
      <span class="nx">Y</span><span class="p">.</span><span class="nb">Object</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">allPostParams</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">param</span><span class="p">,</span> <span class="nx">key</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">post_params</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span><span class="nx">key</span><span class="o">:</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">value</span><span class="o">:</span> <span class="nx">param</span><span class="p">});</span>
      <span class="p">});</span>
      <span class="nx">actionContext</span><span class="p">.</span><span class="nx">done</span><span class="p">(</span>
        <span class="p">{</span>
          <span class="nx">posted_params</span><span class="o">:</span> <span class="nx">post_params</span>
        <span class="p">}</span>
      <span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">},</span> <span class="s1">&#39;0.0.1&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">requires</span><span class="o">:</span> <span class="p">[]});</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="routing">
<h3>Routing<a class="headerlink" href="#routing" title="Permalink to this headline">¶</a></h3>
<p>Routing parameters are mapped to routing paths, actions, and HTTP methods. You can use the routing parameters to provide data to mojit actions when
specific routing conditions have been met.</p>
<div class="section" id="setting-routing-parameters">
<h4>Setting Routing Parameters<a class="headerlink" href="#setting-routing-parameters" title="Permalink to this headline">¶</a></h4>
<p>The routing parameters are set in the routing configuration file <tt class="docutils literal"><span class="pre">routes.json</span></tt>. For each defined route, you can use the <tt class="docutils literal"><span class="pre">params</span></tt> property to set
routing parameters. Because <tt class="docutils literal"><span class="pre">routes.json</span></tt> allows you to specify mojit actions for different paths and HTTP methods, you can set routing parameters
based on the routing configuration.</p>
<p>For instance, in the <tt class="docutils literal"><span class="pre">routes.json</span></tt> below, the routing parameter <tt class="docutils literal"><span class="pre">coupon</span></tt> is <tt class="docutils literal"><span class="pre">true</span></tt> when a POST call is made on the <tt class="docutils literal"><span class="pre">/coupon/form</span></tt>, but when a
GET call is made on the same path, <tt class="docutils literal"><span class="pre">coupon</span></tt> is <tt class="docutils literal"><span class="pre">false</span></tt>. The <tt class="docutils literal"><span class="pre">coupon</span></tt> parameter could be used by the mojit controller to do something such as give
a coupon to a user posting information.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">&quot;settings&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;master&quot;</span><span class="p">],</span>
    <span class="s2">&quot;post&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;verbs&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;post&quot;</span><span class="p">],</span>
      <span class="s2">&quot;path&quot;</span><span class="o">:</span> <span class="s2">&quot;/coupon/form&quot;</span><span class="p">,</span>
      <span class="s2">&quot;call&quot;</span><span class="o">:</span> <span class="s2">&quot;coupon.index&quot;</span><span class="p">,</span>
      <span class="s2">&quot;param&quot;</span><span class="o">:</span> <span class="s2">&quot;coupon=true&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;get&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;verbs&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;get&quot;</span><span class="p">],</span>
      <span class="s2">&quot;path&quot;</span><span class="o">:</span> <span class="s2">&quot;/coupon/form&quot;</span><span class="p">,</span>
      <span class="s2">&quot;call&quot;</span><span class="o">:</span> <span class="s2">&quot;coupon.index&quot;</span><span class="p">,</span>
      <span class="s2">&quot;param&quot;</span><span class="o">:</span> <span class="s2">&quot;coupon=false&quot;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="getting-routing-parameters">
<h4>Getting Routing Parameters<a class="headerlink" href="#getting-routing-parameters" title="Permalink to this headline">¶</a></h4>
<p>The Params addon has the method <tt class="docutils literal"><span class="pre">getFromRoutes</span></tt> that allows you to specify a single parameter or get all of the
routing parameters. You can also use the alias <tt class="docutils literal"><span class="pre">route</span></tt> to get routing parameters.</p>
<div class="section" id="id1">
<h5>Single<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h5>
<p>To get a routing parameter, call <tt class="docutils literal"><span class="pre">getFromRoute</span></tt> with the key as the parameter.</p>
<p>In the example controller below, the routing parameter <tt class="docutils literal"><span class="pre">coupon</span></tt> is used to determine whether the user gets a coupon.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">YUI</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">&#39;CouponMojit&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">Y</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">Y</span><span class="p">.</span><span class="nx">mojito</span><span class="p">.</span><span class="nx">controller</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">init</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">config</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">config</span> <span class="o">=</span> <span class="nx">config</span><span class="p">;</span>
    <span class="p">},</span>
    <span class="nx">index</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">actionContext</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">sendCoupon</span> <span class="o">=</span> <span class="nx">actionContext</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">getFromRoute</span><span class="p">(</span><span class="s1">&#39;coupon&#39;</span><span class="p">);</span>
      <span class="kd">var</span> <span class="nx">name</span> <span class="o">=</span> <span class="nx">actionContext</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">getFromBody</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">);</span>
      <span class="k">if</span><span class="p">(</span><span class="nx">sendCoupon</span><span class="p">){</span>
         <span class="c1">// Display coupon to user</span>
          <span class="kd">var</span> <span class="nx">coupon</span> <span class="o">=</span> <span class="nx">getCoupon</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="nx">actionContext</span><span class="p">.</span><span class="nx">done</span><span class="p">(</span>
        <span class="p">{</span>
          <span class="nx">name</span><span class="o">:</span> <span class="nx">name</span> <span class="o">?</span> <span class="nx">name</span> <span class="o">:</span> <span class="s2">&quot;Dear customer&quot;</span><span class="p">;</span>
          <span class="nx">coupon</span> <span class="o">:</span> <span class="nx">coupon</span> <span class="o">?</span> <span class="nx">coupon</span> <span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
        <span class="p">});</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">},</span> <span class="s1">&#39;0.0.1&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">requires</span><span class="o">:</span> <span class="p">[]});</span>
</pre></div>
</div>
</div>
<div class="section" id="id2">
<h5>All<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h5>
<p>To get all of the routing parameters, call <tt class="docutils literal"><span class="pre">getFromRoute</span></tt> or <tt class="docutils literal"><span class="pre">route</span></tt> without any arguments.</p>
<p>In the example controller below, all of the routing routing parameters to create a URL.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">YUI</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">&#39;LinkMojit&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">Y</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">Y</span><span class="p">.</span><span class="nx">mojito</span><span class="p">.</span><span class="nx">controller</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">init</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">config</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">config</span> <span class="o">=</span> <span class="nx">config</span><span class="p">;</span>
    <span class="p">},</span>
    <span class="nx">index</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">actionContext</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">routeParams</span> <span class="o">=</span> <span class="nx">actionContext</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">getFromRoute</span><span class="p">();</span>
      <span class="kd">var</span> <span class="nx">submitUrl</span> <span class="o">=</span> <span class="nx">actionContext</span><span class="p">.</span><span class="nx">url</span><span class="p">.</span><span class="nx">make</span><span class="p">(</span><span class="s2">&quot;myMojit&quot;</span><span class="p">,</span> <span class="s1">&#39;submit&#39;</span><span class="p">,</span> <span class="nx">routeParams</span><span class="p">);</span>
      <span class="nx">actionContext</span><span class="p">.</span><span class="nx">done</span><span class="p">(</span>
        <span class="p">{</span>
          <span class="nx">url</span><span class="o">:</span> <span class="nx">submitUrl</span>
        <span class="p">});</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">},</span> <span class="s1">&#39;0.0.1&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">requires</span><span class="o">:</span> <span class="p">[]});</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="getting-all-parameters">
<h3>Getting All Parameters<a class="headerlink" href="#getting-all-parameters" title="Permalink to this headline">¶</a></h3>
<p>The Params addon also has the method <tt class="docutils literal"><span class="pre">getFromMerged</span></tt> that lets you get one or all of the GET, POST, and routing parameters. Because all of the
parameters are merged into one collection, one parameter might be overridden by another with the same key. You can also use the alias <tt class="docutils literal"><span class="pre">merged</span></tt> to
get one or all of the GET, POST, and routing parameters.</p>
<p>Thus, the parameter types are given the following priority:</p>
<ol class="arabic simple">
<li>routing parameters</li>
<li>GET parameters</li>
<li>POST parameters</li>
</ol>
<p>For example, if each parameter type has a <tt class="docutils literal"><span class="pre">foo</span></tt> key, the <tt class="docutils literal"><span class="pre">foo</span></tt> routing parameter will override both the GET and POST <tt class="docutils literal"><span class="pre">foo</span></tt> parameters.</p>
<div class="section" id="id3">
<h4>Single<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h4>
<p>To get one of any of the different type of parameters, call <tt class="docutils literal"><span class="pre">getFromMerged</span></tt> or <tt class="docutils literal"><span class="pre">merged</span></tt> with the key as the parameter.</p>
<p>In the example controller below, the <tt class="docutils literal"><span class="pre">name</span></tt> parameter is obtained using <tt class="docutils literal"><span class="pre">getFromMerged</span></tt>.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">YUI</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">&#39;MergedParamsMojit&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">Y</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">Y</span><span class="p">.</span><span class="nx">mojito</span><span class="p">.</span><span class="nx">controller</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">init</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">config</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">config</span> <span class="o">=</span> <span class="nx">config</span><span class="p">;</span>
    <span class="p">},</span>
    <span class="nx">getPostName</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">actionContext</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">mergedName</span> <span class="o">=</span> <span class="nx">actionContext</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">getFromMerged</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">);</span>
      <span class="nx">actionContext</span><span class="p">.</span><span class="nx">done</span><span class="p">(</span>
        <span class="p">{</span>
          <span class="nx">name</span><span class="o">:</span> <span class="nx">mergedName</span>
        <span class="p">});</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">},</span> <span class="s1">&#39;0.0.1&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">requires</span><span class="o">:</span> <span class="p">[]});</span>
</pre></div>
</div>
</div>
<div class="section" id="id4">
<h4>All<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h4>
<p>To get all of the GET, POST, and routing parameters, call <tt class="docutils literal"><span class="pre">getFromMerged</span></tt> or <tt class="docutils literal"><span class="pre">merged</span></tt> without any arguments.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">YUI</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">&#39;MergedParamsMojit&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">Y</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">Y</span><span class="p">.</span><span class="nx">mojito</span><span class="p">.</span><span class="nx">controller</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">init</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">config</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">config</span> <span class="o">=</span> <span class="nx">config</span><span class="p">;</span>
    <span class="p">},</span>
    <span class="p">...</span>
    <span class="nx">getAllParams</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">actionContext</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">all_params</span> <span class="o">=</span> <span class="p">[];</span>
      <span class="kd">var</span> <span class="nx">allParams</span> <span class="o">=</span> <span class="nx">actionContext</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">getFromMerged</span><span class="p">();</span>
      <span class="nx">Y</span><span class="p">.</span><span class="nb">Object</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">allParams</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">param</span><span class="p">,</span> <span class="nx">key</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">all_params</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span><span class="nx">key</span><span class="o">:</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">value</span><span class="o">:</span> <span class="nx">param</span><span class="p">});</span>
      <span class="p">});</span>
      <span class="nx">actionContext</span><span class="p">.</span><span class="nx">done</span><span class="p">(</span>
        <span class="p">{</span>
          <span class="nx">params</span><span class="o">:</span> <span class="nx">all_params</span>
        <span class="p">}</span>
      <span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">},</span> <span class="s1">&#39;0.0.1&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">requires</span><span class="o">:</span> <span class="p">[]});</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="cookies">
<h3>Cookies<a class="headerlink" href="#cookies" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference external" href="../../api/classes/Cookie.server.html">Cookies addon</a> offers methods for reading and writing cookies. The API of the Cookie addon is the same as
the <a class="reference external" href="http://yuilibrary.com/yui/docs/api/classes/Cookie.html">YUI 3 Cookie Utility</a>. For a code example showing how to use the Cookies addon,
see <a class="reference external" href="../code_exs/cookies.html">Using Cookies</a>.</p>
<div class="section" id="getting-cookie-data">
<h4>Getting Cookie Data<a class="headerlink" href="#getting-cookie-data" title="Permalink to this headline">¶</a></h4>
<p>The method <tt class="docutils literal"><span class="pre">cookie.get(name)</span></tt> is used to get the cookie value associated with <tt class="docutils literal"><span class="pre">name</span></tt>. In the example controller below, the cookie value
for <tt class="docutils literal"><span class="pre">'user'</span></tt> is obtained and then used to pass user information to the view template.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">YUI</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">&#39;CookieMojit&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">Y</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">Y</span><span class="p">.</span><span class="nx">mojito</span><span class="p">.</span><span class="nx">controller</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">init</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">config</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">config</span> <span class="o">=</span> <span class="nx">config</span><span class="p">;</span>
  <span class="p">},</span>
  <span class="nx">index</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">actionContext</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">user</span> <span class="o">=</span> <span class="nx">actionContext</span><span class="p">.</span><span class="nx">cookie</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;user&#39;</span><span class="p">);</span>
     <span class="nx">actionContext</span><span class="p">.</span><span class="nx">done</span><span class="p">(</span>
        <span class="p">{</span>
          <span class="nx">user</span><span class="o">:</span> <span class="nx">user</span> <span class="o">&amp;&amp;</span> <span class="nx">users</span><span class="p">[</span><span class="nx">user</span><span class="p">]</span> <span class="o">?</span> <span class="nx">users</span><span class="p">[</span><span class="nx">user</span><span class="p">]</span> <span class="o">:</span> <span class="s2">&quot;&quot;</span>
        <span class="p">}</span>
      <span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">},</span> <span class="s1">&#39;0.0.1&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">requires</span><span class="o">:</span> <span class="p">[]});</span>
</pre></div>
</div>
</div>
<div class="section" id="writing-data-to-cookies">
<h4>Writing Data to Cookies<a class="headerlink" href="#writing-data-to-cookies" title="Permalink to this headline">¶</a></h4>
<p>The method <tt class="docutils literal"><span class="pre">cookie.set(name,</span> <span class="pre">value)</span></tt> is used to set a cookie with the a given name and value.  The following example controller sets a cookie
with the name <tt class="docutils literal"><span class="pre">'user'</span></tt> if one does not exist.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">YUI</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">&#39;CookieMojit&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">Y</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">Y</span><span class="p">.</span><span class="nx">mojito</span><span class="p">.</span><span class="nx">controller</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">init</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">config</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">config</span> <span class="o">=</span> <span class="nx">config</span><span class="p">;</span>
  <span class="p">},</span>
  <span class="nx">index</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">actionContext</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">user</span> <span class="o">=</span> <span class="nx">actionContext</span><span class="p">.</span><span class="nx">cookie</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;user&#39;</span><span class="p">);</span>
     <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">user</span><span class="p">){</span>
        <span class="nx">actionContext</span><span class="p">.</span><span class="nx">cookie</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">&#39;user&#39;</span><span class="p">,(</span><span class="k">new</span> <span class="nb">Date</span><span class="p">).</span><span class="nx">getTime</span><span class="p">());</span>
     <span class="p">}</span>
     <span class="nx">actionContext</span><span class="p">.</span><span class="nx">done</span><span class="p">(</span>
        <span class="p">{</span>
          <span class="nx">user</span><span class="o">:</span> <span class="nx">user</span>
        <span class="p">}</span>
      <span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">},</span> <span class="s1">&#39;0.0.1&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">requires</span><span class="o">:</span> <span class="p">[]});</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>

                </div>
            </div>
            
    	</div>
	</div>
	<footer>
            <div id="ft">
        <span class="copyright">Copyright &copy; 2012 Yahoo! Inc. All rights reserved.</span>
        <ul id="ft-tou">
            <li>
                <a href="http://privacy.yahoo.com/privacy/us/pipes">Your Privacy</a> 
            </li>
            <li>
                <a href="http://info.yahoo.com/legal/us/yahoo/pipes/pipes-4396.html">Terms of Use</a> 
            </li>
            <li>
                <a href="http://docs.yahoo.com/info/copyright/copyright.html">Copyright/IP Policy</a>
            </li>
            <li class="last">
                <a href="http://suggestions.yahoo.com/?prop=Mojito">Feedback</a>
            </li>
        </ul>
    </div><!--/#ft --> 
	</footer>
</body>
</html>